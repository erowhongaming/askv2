<!DOCTYPE html>
<html lang="en" style="zoom: 100%;">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Assistance Services Kiosk</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="/assets/img/csmc_logo.png" rel="icon">
  <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="/assets/css/style.css" rel="stylesheet">
  <!-- Sweetalert2 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   <!-- Include jQuery Easing Plugin -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

  <!-- =======================================================
  * Template Name: OnePage
  * Template URL: https://bootstrapmade.com/onepage-multipurpose-bootstrap-template/
  * Updated: Mar 17 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body >
 
  <header id="header" class="d-flex flex-column justify-content-center">
    <nav id="navbar" class="navbar nav-menu menu-to-top">
      <ul>
        <li><a id="sidebar-home" class="nav-link scrollto"><i class="ri-home-2-line"></i> <span>Home</span></a></li>
      </ul>
    </nav><!-- .nav-menu -->
    <!-- Logo -->
    <img src="/assets/img/csmc_logo.png" style="width:15%;position:fixed;top:0;left:0;z-index: 0;">
  </header><!-- End Header -->
  

  <!-- ======= Mobile nav toggle button ======= -->

  <!-- ======= Hero Section ======= -->
  <section id="landingPage" class="align-items-center" style='  background: linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.7)), url("/assets/img/bg12.jpg") top center;
  background-size: cover;
  background-blend-mode: lighten;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
           ' >
   
    <div class="container position-relative " data-aos="fade-up" data-aos-delay="100"  >
      <div class="row justify-content-center">
        <div class="col-xl-7 col-lg-9 text-center">          
          <img src="/assets/img/logo.png" style="width:100%">
        </div>
      </div>
     
      <div class="portfolio-details-slider swiper">
        <div class="swiper-wrapper align-items-center">

          <div class="swiper-slide"> 
            <div class="container services" data-aos="fade-up">   
              <div class="row icon-boxes cards">  
                    

                  <div id="doctorDir-link" class="col-lg-3 col-md-6 align-items-stretch card-services" data-aos="zoom-in" data-aos-delay="100">
                    <div class="icon-box iconbox-blue">
                      <div class="icon">
                        <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                          <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,582.0697525312426C382.5290701553225,586.8405444964366,449.9789794690241,525.3245884688669,502.5850820975895,461.55621195738473C556.606425686781,396.0723002908107,615.8543463187945,314.28637112970534,586.6730223649479,234.56875336149918C558.9533121215079,158.8439757836574,454.9685369536778,164.00468322053177,381.49747125262974,130.76875717737553C312.15926192815925,99.40240125094834,248.97055460311594,18.661163978235184,179.8680185752513,50.54337015887873C110.5421016452524,82.52863877960104,119.82277516462835,180.83849132639028,109.12597500060166,256.43424936330496C100.08760227029461,320.3096726198365,92.17705696193138,384.0621239912766,124.79988738764834,439.7174275375508C164.83382741302287,508.01625554203684,220.96474134820875,577.5009287672846,300,582.0697525312426"></path>
                        </svg>
                        <i class="ri-team-line"></i>
                      </div>
                      <h4 class="title">Doctor's Directory</h4>
                      <!-- <p>Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi</p> -->
                    </div>
                  </div>


                    <div  id="runnginBill-link" class="col-lg-3 col-md-6 align-items-stretch card-services " data-aos="zoom-in" data-aos-delay="100">
                      <div class="icon-box iconbox-blue">
                        <div class="icon">
                          <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                            <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,521.0016835830174C376.1290562159157,517.8887921683347,466.0731472004068,529.7835943286574,510.70327084640275,468.03025145048787C554.3714126377745,407.6079735673963,508.03601936045806,328.9844924480964,491.2728898941984,256.3432110539036C474.5976632858925,184.082847569629,479.9380746630129,96.60480741107993,416.23090153303,58.64404602377083C348.86323505073057,18.502131276798302,261.93793281208167,40.57373210992963,193.5410806939664,78.93577620505333C130.42746243093433,114.334589627462,98.30271207620316,179.96522072025542,76.75703585869454,249.04625023123273C51.97151888228291,328.5150500222984,13.704378332031375,421.85034740162234,66.52175969318436,486.19268352777647C119.04800174914682,550.1803526380478,217.28368757567262,524.383925680826,300,521.0016835830174"></path>
                          </svg>
                          <i class="ri-list-check"></i>
                        </div>
                        <h4 class="title">Running Bill</h4>
                        <!-- <p>Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi</p> -->
                      </div>
                    </div>
                
                    
                   


                    <div class="col-lg-3 col-md-6 align-items-stretch card-services" data-aos="zoom-in" data-aos-delay="100">
                      <div class="icon-box iconbox-blue"  >
                        <div class="icon">
                          <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                            <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,541.5067337569781C382.14930387511276,545.0595476570109,479.8736841581634,548.3450877840088,526.4010558755058,480.5488172755941C571.5218469581645,414.80211281144784,517.5187510058486,332.0715597781072,496.52539010469104,255.14436215662573C477.37192572678356,184.95920475031193,473.57363656557914,105.61284051026155,413.0603344069578,65.22779650032875C343.27470386102294,18.654635553484475,251.2091493199835,5.337323636656869,175.0934190732945,40.62881213300186C97.87086631185822,76.43348514350839,51.98124368387456,156.15599469081315,36.44837278890362,239.84606092416172C21.716077023791087,319.22268207091537,43.775223500013084,401.1760424656574,96.891909868211,461.97329694683043C147.22146801428983,519.5804099606455,223.5754009179313,538.201503339737,300,541.5067337569781"></path>
                          </svg>
                          <i class="ri-map-fill"></i>
                        </div>
                        <h4 class="title-"  >WayFinder </h4>
                        <!-- <p>Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi</p> -->
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-6 align-items-stretch card-services" data-aos="zoom-in" data-aos-delay="100">
                      <div class="icon-box iconbox-blue">
                        <div class="icon">
                          <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                            <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,532.3542879108572C369.38199826031484,532.3153073249985,429.10787420159085,491.63046689027357,474.5244479745417,439.17860296908856C522.8885846962883,383.3225815378663,569.1668002868075,314.3205725914397,550.7432151929288,242.7694973846089C532.6665558377875,172.5657663291529,456.2379748765914,142.6223662098291,390.3689995646985,112.34683881706744C326.66090330228417,83.06452184765237,258.84405631176094,53.51806209861945,193.32584062364296,78.48882559362697C121.61183558270385,105.82097193414197,62.805066853699245,167.19869350419734,48.57481801355237,242.6138429142374C34.843463184063346,315.3850353017275,76.69343916112496,383.4422959591041,125.22947124332185,439.3748458443577C170.7312796277747,491.8107796887764,230.57421082200815,532.3932930995766,300,532.3542879108572"></path>
                          </svg>
                          <i class="ri-service-fill"></i>
                        </div>
                        <h4 class="title">Products and Services</h4>
                        <!-- <p>Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi</p> -->
                      </div>
                    </div>
                  

                    
                    
              </div>
            </div>
          </div>


          <div class="swiper-slide"> 
            <div class="container services" data-aos="fade-up">   
              <div class="row icon-boxes cards">  
                    
                    <div  class="col-lg-3 col-md-6 align-items-stretch card-services" data-aos="zoom-in" data-aos-delay="100">
                      <div class="icon-box iconbox-blue">
                        <div class="icon">
                          <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                            <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,521.0016835830174C376.1290562159157,517.8887921683347,466.0731472004068,529.7835943286574,510.70327084640275,468.03025145048787C554.3714126377745,407.6079735673963,508.03601936045806,328.9844924480964,491.2728898941984,256.3432110539036C474.5976632858925,184.082847569629,479.9380746630129,96.60480741107993,416.23090153303,58.64404602377083C348.86323505073057,18.502131276798302,261.93793281208167,40.57373210992963,193.5410806939664,78.93577620505333C130.42746243093433,114.334589627462,98.30271207620316,179.96522072025542,76.75703585869454,249.04625023123273C51.97151888228291,328.5150500222984,13.704378332031375,421.85034740162234,66.52175969318436,486.19268352777647C119.04800174914682,550.1803526380478,217.28368757567262,524.383925680826,300,521.0016835830174"></path>
                          </svg>
                          <i class="ri-settings-2-line"></i>
                        </div>
                        <h4 class="title">Coming Soon</h4>
                        <!-- <p>Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi</p> -->
                      </div>
                    </div>
                
                    
              </div>

            
            </div>
          </div>

      

        </div>
        <br>
        <br>
        <div class="swiper-pagination"></div>
      </div>
    </div>
  </section><!-- End Hero -->

 <!-- ======= Doctors Directory Section ======= -->
 <section id="portfolio" class="portfolio" style='background: url("/assets/img/bg14.jpg") top center;'>
  <div class="sidebar-wrapper" id="sidebarDiv">
    <div class="sidebar">
        <h6 class="sidebar-title"></h6>
        
        <div class="col-lg-12 dedication ">
          <form id="subForm">
            <div class="sub-filter" id = "subSpecialtyFilter">
            
            </div>
          </form>
        </div>
      </div>
  </div>
    
  

  <div class="container-fluid" data-aos="fade-up" style="overflow:auto">

    <div class="section-title">
      <h2>Doctor's Directory</h2>
      <!-- <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p>
     -->
    </div>
    <div class="container" data-aos="fade-up" style="margin-bottom:25px;margin-top:-25px" >
      <div class="col-lg-12 d-flex justify-content-center">
        <div id="searchDoctorDiv" class="search-bar__wrapper">
          <div class="search-input__wrapper">
            <input type="text" id="searchDoctor" class="search-input use-keyboard-input" placeholder="Search for... Name, Specialty, Subspecialty, Secretary, HMO's or Room">
          </div>
          <button id="search-icon" type="button">
            <i class="ri-search-2-line"></i> Search
          </button>
          <button  class="btnAll">
            All Specializations
         </button>
        </div>
       
         
      </div>
    </div>
    
    <div class="row" data-aos="fade-up" >
        <div class="col-lg-12">
          <form id="myForm">
            <div class="middle-filter" id="filterSpecialty">
              
            </div>
          </form>
        </div>
    </div>
    <div class="container"  data-aos="fade-up">
      <div class="row " id="physicians-container" style="overflow:auto;height:100vh;">

    
        <div class="docs col-lg-2 col-md-6 portfolio-item align-items-stretch filter-app" >
          <div class="doc-member"> 
            <div class="member-img  portfolio-wrap">
              <img src="/assets/img/doctor.png" class="image--cover" alt="" loading="lazy" >
            
            </div>
            <div class="member-info border p-3 mb-3">
              <h3>Doctor's Name</h3>
              <h4 class="card-subtitle mb-2 text-muted">Specialty - Subspecialty</h4>
              <hr> <!-- Horizontal line for visual separation -->
              <h6 >Clinical Schedule</h6> <!-- Header for Clinical Schedule -->
              <div class="schedule">
                  <p>Tuesday, Thursday</p>
                  <p>8:00 am - 10:00 PM</p> <!-- Clinic Schedule -->
              </div>
              <hr class="my-4"> <!-- Horizontal line for visual separation -->
          
            
              <div class="card-text mt-3">
                Affiliated Payors: 
                <div class="affiliated-payors-wrapper">
                    <div class="affiliated-payors">
                        <!-- Add images or text here -->
                        <img src="payor1.jpg" alt="Payor 1" class="payor-img">
                        <img src="payor2.jpg" alt="Payor 2" class="payor-img">
                        <img src="payor3.jpg" alt="Payor 3" class="payor-img">
                      
                        <!-- Add more images as needed -->
                    </div>
                </div>
            </div>
            </div>
          
          </div>
        </div><!-- End docs Member -->

      </div>
    </div>
  </div>
 </section><!-- End Doctors Directory Section -->


  
  <!-- ======= Running Bill Section ======= -->
  <section  id="runningBill" class="services" style='margin-top: 20px;margin-bottom: 30px;background: url("/assets/img/bg14.jpg") top center;'>
    <div class="container" data-aos="fade-up" id="runningbillLogin" >
      <div class="section-title">
        <h2>Running bill</h2>
     
      </div>
        <!-- <div class="card border-light-subtle shadow-sm " > -->
          <div class="row justify-content-center border-light-subtle shadow-sm" style='height:75vh;'>
            <div class="col-12 col-md-6 text-bg-rbill" style='
            background: linear-gradient(rgba(128, 0, 0, 0.8), rgba(128, 0, 0, 0.8)), url("/assets/img/bg2_pattern.jpg") top center;
            background-blend-mode: multiply;
            backdrop-filter: blur(10px);'>
              <div class="align-items-center justify-content-center h-100">
                <div class="card-body p-3 p-md-4 p-xl-5">
                  <div class="col-10 col-xl-8 py-3">
                    <h2 class="h1 mb-4">Inpatient Portal</h2>
                    <p class="lead m-0"></p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-md-6 " style='background: url("/assets/img/bg-blur.png") top center;'>
              <div class="p-3 p-md-4 p-xl-5">
                <div class="row">
                  <div class="col-12">
                    <div class="mb-5">
                      <h3>Log in <i class="ri-login-circle-line"></i></h3>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <form id="validateMobileNumber">
                    <div class="row gy-3 gy-md-4 overflow-hidden">
                      <!-- Step 1: Enter Mobile Number -->
                      <div class="col-12 step step-active" id="step-1">
                          <label for="mobilenumber" class="form-label">Enter your mobile number:</label>
                          <input class ="form-control" type="text" maxlength="11"  name="mobilenumber" id="mobilenumber" placeholder="Mobile - 11 Digits (Format: 09XXXXXXXXX)"  pattern="09\d{9}" required>
                          <div class="d-grid">
                              <button class="btn bsb-btn-xl btn-danger" type="button" id="validate-number">Submit</button>
                          </div>
                        
                          <div class="error" id="error-message" style="color: red; display: none;">Please enter a valid 11-digit mobile number starting with 09.</div>
                      </div>
                      
                      <!-- Step 2: Enter OTP -->
                      <div class="co l-12 step" id="step-2" style="display: none;">
                          <div class="text-center">
                             
                              <div>
                                <span>A 6-digit code has been sent.</span>
                                <h6>Please enter the one-time password<br>to verify <small><span id="maskedNumber">*******9897</span></small></h6>
                              </div>
                              <div id="otp" class="inputs d-flex flex-row justify-content-center mt-2">
                                  <input class="m-2 text-center form-control rounded otp-input" type="text" id="first" maxlength="1" /> 
                                  <input class="m-2 text-center form-control rounded otp-input" type="text" id="second" maxlength="1" /> 
                                  <input class="m-2 text-center form-control rounded otp-input" type="text" id="third" maxlength="1" /> 
                                  <input class="m-2 text-center form-control rounded otp-input" type="text" id="fourth" maxlength="1" /> 
                                  <input class="m-2 text-center form-control rounded otp-input" type="text" id="fifth" maxlength="1" />
                                  <input class="m-2 text-center form-control rounded otp-input" type="text" id="sixth" maxlength="1" />
                              </div>
                             
                          </div>
                          <div class="mt-auto d-grid">
                              <button class="btn bsb-btn-xl btn-danger btn-lg" type="button" id="verifyOTP" ">Verify</button>
                             <br><br><br><br>
                              <button class="btn bsb-btn-xl btn-light" type="button" id="resendOTP" onclick="showStep(1)">Resend OTP</button>
                              <button class="btn bsb-btn-xl btn-secondary" type="button" id="cancelOTP" onclick="showStep(1)">Cancel</button>
                          </div>
                      </div>
                      
                      <!-- Step 3: Sign In -->
                      <div class="col-12 step" id="step-3" style="display: none; ">
                        <div class="text-center">
                          <div class="checkmark">

                            <!-- SUCCESS -->
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            viewBox="0 0 161.2 161.2" enable-background="new 0 0 161.2 161.2" xml:space="preserve">
                            <path class="path" fill="none" stroke="#34c759" stroke-miterlimit="10" d="M425.9,52.1L425.9,52.1c-2.2-2.6-6-2.6-8.3-0.1l-42.7,46.2l-14.3-16.4
                            c-2.3-2.7-6.2-2.7-8.6-0.1c-1.9,2.1-2,5.6-0.1,7.7l17.6,20.3c0.2,0.3,0.4,0.6,0.6,0.9c1.8,2,4.4,2.5,6.6,1.4c0.7-0.3,1.4-0.8,2-1.5
                            c0.3-0.3,0.5-0.6,0.7-0.9l46.3-50.1C427.7,57.5,427.7,54.2,425.9,52.1z"/>
                            <circle class="path" fill="none" stroke="#34c759" stroke-width="4" stroke-miterlimit="10" cx="80.6" cy="80.6" r="62.1"/>
                            <polyline class="path" fill="none" stroke="#34c759" stroke-width="6" stroke-linecap="round" stroke-miterlimit="10" points="113,52.8 
                            74.1,108.4 48.2,86.4 "/>

                            <circle class="spin" fill="none" stroke="#34c759" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="12.2175,12.2175" cx="80.6" cy="80.6" r="73.9"/>
                            </svg>

                          <!--FAILED NOTIF 
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                              viewBox="0 0 161.2 161.2" enable-background="new 0 0 161.2 161.2" xml:space="preserve">
                              <path class="path" fill="none" stroke="#ff3b30 " stroke-miterlimit="10" d="M425.9,52.1L425.9,52.1c-2.2-2.6-6-2.6-8.3-0.1l-42.7,46.2l-14.3-16.4
                              c-2.3-2.7-6.2-2.7-8.6-0.1c-1.9,2.1-2,5.6-0.1,7.7l17.6,20.3c0.2,0.3,0.4,0.6,0.6,0.9c1.8,2,4.4,2.5,6.6,1.4c0.7-0.3,1.4-0.8,2-1.5
                              c0.3-0.3,0.5-0.6,0.7-0.9l46.3-50.1C427.7,57.5,427.7,54.2,425.9,52.1z"/>
                              <circle class="path" fill="none" stroke="#ff3b30 " stroke-width="4" stroke-miterlimit="10" cx="80.6" cy="80.6" r="62.1"/>
                              <line class="path" fill="none" stroke="#ff3b30 " stroke-miterlimit="10" x1="55" y1="55" x2="106.2" y2="106.2"/>
                              <line class="path" fill="none" stroke="#ff3b30 " stroke-miterlimit="10" x1="55" y1="106.2" x2="106.2" y2="55"/>
                              <circle class="spin" fill="none" stroke="#ff3b30 " stroke-width="4" stroke-miterlimit="10" stroke-dasharray="12.2175,12.2175" cx="80.6" cy="80.6" r="73.9"/>
                            </svg>
                            -->
                        
                          </div>
                          <h2>Verification successful! <br> Signing in</h2><br>
                        </div>
                      </div>
                  </div>
                  
                  
                  
                  
                  </form>
                </div>
              </div>
              
            </div>
          </div>
          
        <!-- </div> -->
    </div> <!--end fo container-->
    <br>


      
    <div id="runningBillTable" class="container" data-aos="fade-up" style="background-color: white;height:70vh">

    
      <div class="container-fluid" style="margin-top:20px"  >
          <div class="card">
            <div class="card-body">
                <div class="row">
                  <div class="col-lg-4">
                    <p class="card-title"><strong>Name:</strong> John Doe</p>
                    <p><strong>Age:</strong> 27</p>
                    <p><strong>Date of Birth:</strong> Jan 01,997</p>
                    <p><strong>Email:</strong> john.doe@example.com</p>
                </div>
                <div class="col-lg-4">
                    <p class="card-title"><strong>Medical Record No:</strong> MRN00128154</p>
                    <p><strong>Patient Number:</strong> 000000730358</p>
                    <p><strong>SOA:</strong> SOA000000730358</p>
                    
                </div>
                <div class="col-lg-4">
                  <p><strong>Admission Date:</strong> 11/17/2023 14:39:57</p>
                    <p><strong>Room No.:</strong> 2 MAIN / 228</p>
                    <p><strong>Discharge Date:</strong></p>
                    <button type="button" class="btn btn-danger" onclick="runninBillLogout()"><i class="ri-logout-circle-r-line"></i> Logout</button>
                  </div>
                </div>
              
            </div>
            </div>
            
      </div>
      
      <div class="container-fluid"  style="font-size:15px;margin-top:30px;overflow:auto;height:65vh">
            <!-- Emergency -->
            <div class="col-lg-12" >
              <h5 class="resume-title">Emergency</h5>
          

              <div class="resume-item">
                <div class="container-header">
                  <h5 class="header-date trigCol"><i class="ri-more-2-fill"></i> 01/16/2024</h5>
                  <h5 class="subtotal trigCol">Subtotal: 5,280.00</h5>
                </div>
                <div class="resume-item-content table-responsive card-running-bill" style="margin-left:20px">
                  <h5>2 MAIN</h5>
                  <table class="table table-borderless" style="width:100%">
                    <thead>
                      <tr>
                        <th>Description</th>
                        <th>Qty</th>
                        <th>Unit Price</th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Room and board</td>
                        <td>1</td>
                        <td> 5,280.00</td>
                        <td> 5,280.00</td>
                      </tr>
                  
                    
                    </tbody>
                  </table>   
                </div>
              </div>


            </div>
            <!-- End Emergency -->
            <!-- Inpatient -->
            <div class="col-lg-12">
            <h5 class="resume-title">Inpatient</h5>
            <div class="resume-item">
            <div class="container-header">
              <h5 class="header-date trigCol"><i class="ri-more-2-fill"></i> 01/16/2024</h5>
              <h5 class="subtotal trigCol">Subtotal: 5,280.00</h5>
            </div>
          
            <div class="resume-item-content table-responsive card-running-bill" style="margin-left:20px">
              <h5>2 MAIN</h5>
              <table class="table table-borderless">
                <thead>
                  <tr>
                    <th>Description</th>
                    <th>Qty</th>
                    <th>Unit Price</th>
                    <th>Amount</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Room and board</td>
                    <td>1</td>
                    <td> 5,280.00</td>
                    <td> 5,280.00</td>
                  </tr>
                
                  
                </tbody>
              </table>   
            </div>
            </div>

            <div class="resume-item">
            <div class="container-header">
              <h5 class="header-date trigCol"><i class="ri-more-2-fill"></i> 01/15/2024</h5>
              <h5 class="subtotal trigCol">Subtotal: 5,280.00</h5>
            </div>

            <div class="resume-item-content table-responsive card-running-bill" style="margin-left:20px">
              <h5>2 MAIN</h5>
              <table class="table table-borderless">
                <thead>
                  <tr>
                    <th>Description</th>
                    <th>Qty</th>
                    <th>Unit Price</th>
                    <th>Amount</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Room and board</td>
                    <td>1</td>
                    <td> 5,280.00</td>
                    <td> 5,280.00</td>
                  </tr>
                </tbody>
              </table>   
            </div>
            </div>
            </div>
            <!-- TOTAL -->
            <hr>
            <div class="row">
            <div class="table-responsive card-running-total">
              
              <table class="table table-borderless">
              
                <tbody>
                  <tr>
                    <td><h5>Total Hospital Charges</h5></td>
                    <td><h5>21,120.00</h4></td>
                    
                  </tr>
              
                </tbody>
              </table>   
            </div>
            </div>
            <!-- End total -->
            
          <!-- End Inpatient -->
          <!-- Returns and discontinuation -->
          <div class="container-fluid" >
            <div class="col-lg-12">
              <h5 class="resume-title">Returns and Discontinuation</h5>

              <div class="resume-item">
                <div class="container-header">
                  <h5 class="header-date trigCol"><i class="ri-more-2-fill"></i> 01/15/2024</h5>
                  <h5 class="subtotal trigCol">Subtotal: -1,760</h5>
                </div>
              
                <div class="resume-item-content table-responsive card-running-bill" style="margin-left:20px">
                  <h5>Pharmacy</h5>
                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th>Description</th>
                        <th>Qty</th>
                        <th>Unit Price</th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>CEFUROXINE (ZOLTAX) 750MG VIAL (F)</td>
                        <td>-1</td>
                        <td>1</td>
                        <td>1</td>
                      </tr>
                      <tr>
                        <td>CEFUROXINE (ZOLTAX) 750MG VIAL (F)</td>
                        <td>-3</td>
                        <td>440.00</td>
                        <td>-1,320.00</td>
                      </tr>
                      
                    </tbody>
                  </table>   
                </div>
              
              </div>

              <div class="resume-item">
                <div class="container-header">
                  <h5 class="header-date trigCol"><i class="ri-more-2-fill"></i> 01/16/2024</h5>
                  <h5 class="subtotal trigCol">Subtotal: -1,760</h5>
                </div>
                <div class="resume-item-content table-responsive card-running-bill" style="margin-left:20px">
                  <h5>Pharmacy</h5>
                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th>Description</th>
                        <th>Qty</th>
                        <th>Unit Price</th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>CEFUROXINE (ZOLTAX) 750MG VIAL (F)</td>
                        <td>-1</td>
                        <td>1</td>
                        <td>1</td>
                      </tr>
                      <tr>
                        <td>CEFUROXINE (ZOLTAX) 750MG VIAL (F)</td>
                        <td>-3</td>
                        <td>440.00</td>
                        <td>-1,320.00</td>
                      </tr>
                      
                    </tbody>
                  </table>   
                </div>
              </div>
              <!-- TOTAL -->
              <hr>
              <div class="row">
                <div class="table-responsive card-running-total">
                
                  <table class="table table-borderless">
                  
                    <tbody>
                      <tr>
                        <td><h5>Total Returns and Discontinuation</h5></td>
                        <td><h5>-3520</h5></td>
                      
                      </tr>
                  
                    </tbody>
                  </table>   
                </div>
              </div>
              <!-- End total -->
            </div>
          </div>
          <!-- End Inpatient -->
      </div>
    </div>





  </section><!-- End Running ill Section -->
 
<!-- Link to SweetAlert JavaScript -->


  
  <!-- ======= Products and Services ======= -->
  <section id="productAndServices" class="services">
    <div class="container-fluid" data-aos="fade-up">
  
      <div class="section-title">
        <h2>Products and Services</h2>
        <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p>
      </div>
  
      <div class="row">
  
        <div class="col-lg-4 col-md-6 align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
          <div class="icon-box iconbox-blue">
            <div class="icon">
              <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,521.0016835830174C376.1290562159157,517.8887921683347,466.0731472004068,529.7835943286574,510.70327084640275,468.03025145048787C554.3714126377745,407.6079735673963,508.03601936045806,328.9844924480964,491.2728898941984,256.3432110539036C474.5976632858925,184.082847569629,479.9380746630129,96.60480741107993,416.23090153303,58.64404602377083C348.86323505073057,18.502131276798302,261.93793281208167,40.57373210992963,193.5410806939664,78.93577620505333C130.42746243093433,114.334589627462,98.30271207620316,179.96522072025542,76.75703585869454,249.04625023123273C51.97151888228291,328.5150500222984,13.704378332031375,421.85034740162234,66.52175969318436,486.19268352777647C119.04800174914682,550.1803526380478,217.28368757567262,524.383925680826,300,521.0016835830174"></path>
              </svg>
              <i class="bx bxl-dribbble"></i>
            </div>
            <h4><a href="">Lorem Ipsum</a></h4>
            <p>Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi</p>
          </div>
        </div>
  
        <div class="col-lg-4 col-md-6align-items-stretch mt-4 mt-md-0" data-aos="zoom-in" data-aos-delay="200">
          <div class="icon-box iconbox-orange ">
            <div class="icon">
              <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,582.0697525312426C382.5290701553225,586.8405444964366,449.9789794690241,525.3245884688669,502.5850820975895,461.55621195738473C556.606425686781,396.0723002908107,615.8543463187945,314.28637112970534,586.6730223649479,234.56875336149918C558.9533121215079,158.8439757836574,454.9685369536778,164.00468322053177,381.49747125262974,130.76875717737553C312.15926192815925,99.40240125094834,248.97055460311594,18.661163978235184,179.8680185752513,50.54337015887873C110.5421016452524,82.52863877960104,119.82277516462835,180.83849132639028,109.12597500060166,256.43424936330496C100.08760227029461,320.3096726198365,92.17705696193138,384.0621239912766,124.79988738764834,439.7174275375508C164.83382741302287,508.01625554203684,220.96474134820875,577.5009287672846,300,582.0697525312426"></path>
              </svg>
              <i class="bx bx-file"></i>
            </div>
            <h4><a href="">Sed Perspiciatis</a></h4>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore</p>
          </div>
        </div>
  
        <div class="col-lg-4 col-md-6 align-items-stretch mt-4 mt-lg-0" data-aos="zoom-in" data-aos-delay="300">
          <div class="icon-box iconbox-pink">
            <div class="icon">
              <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,541.5067337569781C382.14930387511276,545.0595476570109,479.8736841581634,548.3450877840088,526.4010558755058,480.5488172755941C571.5218469581645,414.80211281144784,517.5187510058486,332.0715597781072,496.52539010469104,255.14436215662573C477.37192572678356,184.95920475031193,473.57363656557914,105.61284051026155,413.0603344069578,65.22779650032875C343.27470386102294,18.654635553484475,251.2091493199835,5.337323636656869,175.0934190732945,40.62881213300186C97.87086631185822,76.43348514350839,51.98124368387456,156.15599469081315,36.44837278890362,239.84606092416172C21.716077023791087,319.22268207091537,43.775223500013084,401.1760424656574,96.891909868211,461.97329694683043C147.22146801428983,519.5804099606455,223.5754009179313,538.201503339737,300,541.5067337569781"></path>
              </svg>
              <i class="bx bx-tachometer"></i>
            </div>
            <h4><a href="">Magni Dolores</a></h4>
            <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia</p>
          </div>
        </div>
  
        <div class="col-lg-4 col-md-6align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay="100">
          <div class="icon-box iconbox-yellow">
            <div class="icon">
              <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,503.46388370962813C374.79870501325706,506.71871716319447,464.8034551963731,527.1746412648533,510.4981551193396,467.86667711651364C555.9287308511215,408.9015244558933,512.6030010748507,327.5744911775523,490.211057578863,256.5855673507754C471.097692560561,195.9906835881958,447.69079081568157,138.11976852964426,395.19560036434837,102.3242989838813C329.3053358748298,57.3949838291264,248.02791733380457,8.279543830951368,175.87071277845988,42.242879143198664C103.41431057327972,76.34704239035025,93.79494320519305,170.9812938413882,81.28167332365135,250.07896920659033C70.17666984294237,320.27484674793965,64.84698225790005,396.69656628748305,111.28512138212992,450.4950937839243C156.20124167950087,502.5303643271138,231.32542653798444,500.4755392045468,300,503.46388370962813"></path>
              </svg>
              <i class="bx bx-layer"></i>
            </div>
            <h4><a href="">Nemo Enim</a></h4>
            <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis</p>
          </div>
        </div>
  
        <div class="col-lg-4 col-md-6 align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay="200">
          <div class="icon-box iconbox-red">
            <div class="icon">
              <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,532.3542879108572C369.38199826031484,532.3153073249985,429.10787420159085,491.63046689027357,474.5244479745417,439.17860296908856C522.8885846962883,383.3225815378663,569.1668002868075,314.3205725914397,550.7432151929288,242.7694973846089C532.6665558377875,172.5657663291529,456.2379748765914,142.6223662098291,390.3689995646985,112.34683881706744C326.66090330228417,83.06452184765237,258.84405631176094,53.51806209861945,193.32584062364296,78.48882559362697C121.61183558270385,105.82097193414197,62.805066853699245,167.19869350419734,48.57481801355237,242.6138429142374C34.843463184063346,315.3850353017275,76.69343916112496,383.4422959591041,125.22947124332185,439.3748458443577C170.7312796277747,491.8107796887764,230.57421082200815,532.3932930995766,300,532.3542879108572"></path>
              </svg>
              <i class="bx bx-slideshow"></i>
            </div>
            <h4><a href="">Dele Cardo</a></h4>
            <p>Quis consequatur saepe eligendi voluptatem consequatur dolor consequuntur</p>
          </div>
        </div>
  
        <div class="col-lg-4 col-md-6 align-items-stretch mt-4" data-aos="zoom-in" data-aos-delay="300">
          <div class="icon-box iconbox-teal">
            <div class="icon">
              <svg width="100" height="100" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                <path stroke="none" stroke-width="0" fill="#f5f5f5" d="M300,566.797414625762C385.7384707136149,576.1784315230908,478.7894351017131,552.8928747891023,531.9192734346935,484.94944893311C584.6109503024035,417.5663521118492,582.489472248146,322.67544863468447,553.9536738515405,242.03673114598146C529.1557734026468,171.96086150256528,465.24506316201064,127.66468636344209,395.9583748389544,100.7403814666027C334.2173773831606,76.7482773500951,269.4350130405921,84.62216499799875,207.1952322260088,107.2889140133804C132.92018162631612,134.33871894543012,41.79353780512637,160.00259165414826,22.644507872594943,236.69541883565114C3.319112789854554,314.0945973066697,72.72355303640163,379.243833228382,124.04198916343866,440.3218312028393C172.9286146004772,498.5055451809895,224.45579914871206,558.5317968840102,300,566.797414625762"></path>
              </svg>
              <i class="bx bx-arch"></i>
            </div>
            <h4><a href="">Divera Don</a></h4>
            <p>Modi nostrum vel laborum. Porro fugit error sit minus sapiente sit aspernatur</p>
          </div>
        </div>
  
      </div>
  
    </div>
  </section><!-- End Products and Services Section -->
   
  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="container d-md-flex py-4">

      <div class="me-md-auto text-center text-md-start">
        <div class="copyright">
          &copy; Copyright <strong><span>2024</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
          
        </div>
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="/assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="/assets/vendor/aos/aos.js"></script>
  <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="/assets/vendor/php-email-form/validate.js"></script>
  <!-- Template Main JS File -->
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/assets.js"></script>
 
  <!-- Sweetelaert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    

  <!-- MD5 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.18.0/js/md5.min.js"></script>

  <script>

$(".btnAll").click(searchToggleALL);

function searchToggleALL(){
  const query = $('#searchDoctor').val();
  if ($(".btnAll").hasClass("active") ) {
      // If .btnAll has the active class, remove it
      $(".btnAll").removeClass("active");
      
      search(query);
     
  } else {
      // If .btnAll does not have the active class, add it
      $(".btnAll").addClass("active");
       // Perform actions when active class is removed
       $('input[name="radioSpecialty"]:checked').prop('checked', false);
      $('input[name="sub-radioSpecialty"]:checked').prop('checked', false);
      search(query);
     
  }
}

function toggleSearch(){
  const searchBar = document.querySelector('.search-input__wrapper');
  const searchInput = document.querySelector('#searchDoctor'); // Assuming this is the search input field
  searchBar.classList.toggle('search-input__wrapper_active');
  const searchIcon = document.querySelector('#search-icon i'); 
  // Clear the input value if the search bar is being closed
  if (searchBar.classList.contains('search-input__wrapper_active')) {
    searchIcon.classList.remove('ri-search-2-line');
    searchIcon.classList.add('ri-close-line');
    searchIcon.classList.add('ri-close-line');
    searchInput.focus(); // Optionally, focus the input field when active
  } else {
    searchIcon.classList.remove('ri-close-line');
    searchIcon.classList.add('ri-search-2-line');
    searchInput.value = ''; // Clear the input value if the search bar is being closed
    search(searchInput.value);
  }
}
$('#search-icon').click(toggleSearch);


    function goTo(target) {
     

      if(target == '#portfolio'){
          doctorsDir(target);
      }else if(target == '#runningBill'){
          runnginBill(target);
      }else if(target == '#landingPage'){
          home(target);
      }

    } 
  
    function home(target){
      $('html, body').animate({
          scrollTop: $(target).offset().top
      }, 200, 'easeInOutCubic');
    }
    function doctorsDir(target){
      $('html, body').animate({
          scrollTop: $(target).offset().top
      }, 200, 'easeInOutCubic');
    }

    function runnginBill(target){
      $('html, body').animate({
          scrollTop: $(target).offset().top
      }, 200, 'easeInOutCubic');
    }



    function groupDataBySpecializationAndSubSpecialization(data) {
      const groupedData = {};

      // Iterate over each object in the data array
      data.forEach(doctor => {
          const specialization = doctor.specialization;
          const subSpecialization = doctor.subSpecialization;

          // Check if the specialization key exists in the groupedData object
          if (!groupedData[specialization]) {
              // If the specialization key does not exist, create a new object for it
              groupedData[specialization] = {};
          }

          // Check if the subspecialization key exists in the specialization object
          if (!groupedData[specialization][subSpecialization]) {
              // If the subspecialization key does not exist, create a new array for it
              groupedData[specialization][subSpecialization] = [];
          }

          // Add the current doctor object to the array corresponding to its subspecialization
          groupedData[specialization][subSpecialization].push(doctor);
      });

      return groupedData;
    }

  // Function to group data by specialization
    function groupDataBySpecialization(data) {
        const groupedData = {};

        // Iterate over each object in the data array
        data.forEach(doctor => {
            const specialization = doctor.specialization;

            // Check if the specialization key exists in the groupedData object
            if (!groupedData[specialization]) {
                // If the specialization key does not exist, create a new array for it
                groupedData[specialization] = [];
            }

            // Add the current doctor object to the array corresponding to its specialization
            groupedData[specialization].push(doctor);
        });

        return groupedData;
    }
    
    // Function to group data by specialization
    function groupDataBySubSpecialization(data) {
        const groupedData = {};

        // Iterate over each object in the data array
        data.forEach(doctor => {
            const subSpecialization = doctor.subSpecialization;

            // Check if the specialization key exists in the groupedData object
            if (!groupedData[subSpecialization]) {
                // If the specialization key does not exist, create a new array for it
                groupedData[subSpecialization] = [];
            }

            // Add the current doctor object to the array corresponding to its specialization
            groupedData[subSpecialization].push(doctor);
        });

        return groupedData;
    }
    
    
    function search(query){


      const selectedSpecialty =  $('input[name="radioSpecialty"]:checked').val() ? $('input[name="radioSpecialty"]:checked').val() : 'ALL';
      
      const selectedSubSpecialty = $('input[name="sub-radioSpecialty"]:checked').val();
      if(query != '' && (selectedSpecialty == 'ALL' )){
          $.ajax({
            url: `/api/doctors/search?q=${encodeURIComponent(query)}`,
            method: 'GET',
            success: function(data) {
              $('#physicians-container').html('');
            
              renderPhysicians(data);
               
            },  
            error: function() {
                console.error('Failed to load doctor data');
            }
        });
      }else if(selectedSpecialty != 'ALL'){
        getDoctorsBySpecializationAndSubspecialization(selectedSpecialty,selectedSubSpecialty);
      }else{
        $('#physicians-container').html(``);
        getInitialLoading();
      }
    }
  

    function getInitialLoading(){
       
        // Initial load 
        $.ajax({
          url: `/api/doctors`,
          method: 'GET',
          success: function(data) {              
              
            // Limit data to the first 100 doctors
          
            
            // Group data by specialization and subspecialization
            const groupedBySpecialization = groupDataBySpecialization(data);                
            const groupBySubSpecialization = groupDataBySubSpecialization(data);            

           
          
            $('#filterSpecialty').html('');
          
            // Append filter items for each specialization
            for (const specialization in groupedBySpecialization) {
                $('#filterSpecialty').append(
                  `<label>
                      <input type="radio" name="radioSpecialty" value="${specialization}"  />
                      <div class="specialty-filter box">
                        <span class="specialtyh1">${specialization}</span>
                      </div>
                    </label>`                    
                );
            }

            $('#physicians-container').html('');

            const limitedData = data.slice(0, 100);

            $(".btnAll").addClass("active");
            renderPhysicians(limitedData);
             
          },
          error: function(jqXHR, textStatus, errorThrown) {
            console.error('Error:', textStatus, errorThrown);         
          }
        })
    }


 
    function close_sidebar(){  

      $(".sidebar-wrapper").hide(400);
      $('input[name="sub-radioSpecialty"]:checked').prop('checked', false);
      $('#navbar').show();
      const specialtyValue = $('input[name="radioSpecialty"]:checked').val();
      const subspecialtyValue = $('input[name="sub-radioSpecialty"]:checked').val();
     
  
      if (specialtyValue != 'ALL') {
        getDoctorsBySpecializationAndSubspecialization(specialtyValue,subspecialtyValue);
      }
    }
 
    function getSubSpecializationGroups(specialization){
      $.ajax({
        url: `api/doctors/grouped-specializations?specialization=${encodeURIComponent(specialization)}`,
        method: 'GET',
        success: function(data) {
          $('#subSpecialtyFilter').html('');      
          // Iterate over each specialization
          $.each(data, function(index, specializationGroup) {
              // Iterate over each sub-specialization and add to the array
              $.each(specializationGroup.subSpecializations, function(subIndex, subSpecialization) {
                  
                  $('#subSpecialtyFilter').append(
                    ` <label>
                        <input type="radio" name="sub-radioSpecialty" value="${subSpecialization}"  />
                        <div class="sub-specialty-filter sub-box">
                          <span class="sub-specialtyh1">${subSpecialization}</span>
                        </div>
                      </label>
                    `);
              });
          });
        },  
        error: function() {
            console.error('Failed to load subspecialization data');
        }
      });
      return 1;
    
    }
      


    function getDoctorsBySpecializationAndSubspecialization(specialization,subSpecialization) {
      const subspecialization = (subSpecialization == undefined || subSpecialization == '') ? '':subSpecialization;
      const searchVal = $('#searchDoctor').val();
      if(specialization != null && specialization != ''){
        $.ajax({
            url: `/api/doctors/search-by-specialization-with-subspecialization?specialization=${encodeURIComponent(specialization)}&subSpecialization=${encodeURIComponent(subspecialization)}&searchVal=${encodeURIComponent(searchVal)}`,
            method: 'GET',
            success: function(data) {
              renderPhysicians(data);
            },  
            error: function() {
                console.error('Failed to load doctor data');
            }
        });
      }
    } 

    
    function renderPhysicians(data){
      $('#physicians-container').html('');
      
      for (const doctor in data) {
        
        
          const doctorInfo = data[doctor];
          var img = '';
          var affil = '';
      
          // Check if doctorInfo.hmo_ids is defined and not an empty string
          if (typeof doctorInfo.hmo_id !== 'undefined' && doctorInfo.hmo_id !== '' && doctorInfo.hmo_id !== null) {
            const hmo_id_string = doctorInfo.hmo_id;
            // Split the string into an array using ';' as a delimiter
            var hmo_id_array = hmo_id_string.split(';');
          
            // Trim any extra spaces from each element and build the HTML string
            $.each(hmo_id_array, function(index, value) {
                affil += `<img src="https://hris.csmc.ph/photos/hmo/` + md5($.trim(value)) + `.jpg"  class="payor-img" alt="" loading="lazy">`;
            });
          
          }

          img =` <img src="https://hris.csmc.ph/photos/${doctorInfo.person_id}.jpg" class="image--cover" alt="" loading="lazy">`;
          $('#physicians-container').append(
            `
            <div class="docs col-lg-3 col-md-6 align-items-stretch ${doctorInfo.specialization.toLowerCase().replace(/\s+/g, '_')}" >
                <div class="doc-member"> 
                  <div class="member-img"  >
                 
                    `+img+`
                  </div>
                  <div class="member-info">
                    <strong style="font-size:19px;color:#002e5c;text-align:center;font-weight:900;">${doctorInfo.fullname}</strong><br>
                    <strong style="font-size:12px;text-align:center;color:#969393"><i>${doctorInfo.specialization} - ${doctorInfo.subSpecialization}</i></strong>
                    <hr> 
                    <div class="row">
                      <div class="col-sm-12 border p-3 " >
                        <strong style="font-size:12px;color:#969393">Clinical Schedule</strong> 
                        <br>
                        <strong style="font-size:12px;color:black;">${doctorInfo.schedule}</strong>
                        <br>
                        <strong style="font-size:12px;color:black;">8:00 am - 10:00 PM</strong> 
                        <br>
                       
                      </div> 
                      <div class="col-sm-12  border p-3">
                        <strong style="font-size:12px;color:#969393">Room</strong>      
                        <br>
                        <strong style="font-size:12px;color:black;">${doctorInfo.room}</strong>
                      </div> 
                      <div class="col-sm-12  border p-3">
                        <strong style="font-size:12px;color:#969393">Secretary</strong> <br>
                  
                        <strong style="font-size:11px;color:black;">${doctorInfo.secretary} - </strong> 
                        <strong style="font-size:11Px;color:black;">${doctorInfo.secretary_contact}</strong> 

                      </div> 
                      <div class="col-sm-12  border p-3">
                        <strong style="font-size:12px;color:#969393">Affiliated Payors: </strong>
                        <div class="affiliated-payors-wrapper">
                            <div class="affiliated-payors">
                                `+affil+`
                               
                            </div>
                        </div>
                      </div>
                    </div>

                
                  </div>
                
                </div>
              </div>
          `);
       
      }
    }
    



    function selectedSpecialty(){
      const  selectedValue = $('input[name="radioSpecialty"]:checked').val();  
      const selectedSubSpecialy = $('input[name="sub-radioSpecialty"]:checked').val();

     



      if (selectedValue != 'ALL') {

          $('.sidebar-title').html('Subspecialization(s) &nbsp;&nbsp <button type="button" onclick="close_sidebar()" id="close-sidebar"><i class="ri-close-circle-line"></i></button>');
         
          $(".btnAll").removeClass("active");
          getDoctorsBySpecializationAndSubspecialization(selectedValue,selectedSubSpecialy);         
          getSubSpecializationGroups(selectedValue);
          
      
          $(".side-menu > i").toggleClass("ri-close-fill", 300);
          $(".sidebar-wrapper").toggleClass("show-sidebar", 500);
          $('#navbar').hide();
          $(".sidebar-wrapper").show(500); 
      } else {
        $('#navbar').show();
          $(".sidebar-wrapper").hide(400);
          getInitialLoading();
          $('#selectedValue').text('None');
          $('#selectedValue').text('None');
      }
    }
    
</script>
<script>
  // Running Bill


  /*
  """
  - Listens for keyup events on the input field with id 'mobilenumber'
  - Validates the input based on specific conditions:
      - If the input does not start with '09', shows an error message and disables the button
      - If the input length exceeds 11 digits, shows an error message and disables the button
      - If the input is exactly 11 digits but does not match the format /^09\d{9}$/, shows an error message and disables the button
  - Hides the error message if the input is valid
  """
  */

  $('#mobilenumber').keyup(checkEntry);
  /*
  Function to check if a mobile number is valid.
  Parameters:
  - mobileInput: jQuery object representing the mobile number input field
  - errorMessage: jQuery object representing the error message element
  - validateNumber: jQuery object representing the validate number button
  Returns:
  - 1 if the mobile number is invalid, 0 if the mobile number is valid
  */
  function checkEntry(){
    const mobileInput = $('#mobilenumber');
    const errorMessage = $('#error-message');
    const validateNumber = $('#validate-number');

    const mobileValue = mobileInput.val();
    if (mobileValue.length >= 2 && mobileValue.substring(0, 2) !== '09') {
        errorMessage.html('Must start with 09').show();
        validateNumber.prop('disabled', true);
        return 1;
    } else if (mobileValue.length != 11) {
        errorMessage.html('Must be 11 digits').show();  
        validateNumber.prop('disabled', true);
        return 1;
    } else if (mobileValue.length === 11 && !/^09\d{9}$/.test(mobileValue)) {
        errorMessage.html('Invalid mobile number format').show();
        validateNumber.prop('disabled', true);
        return 1;
    } else {
        validateNumber.prop('disabled', false);
        errorMessage.hide();
        return 0;
    }
    
  }

/* Validate mobile number and trigger validation function when button is clicked */

  $('#validate-number').click(function(){
    const mobilenumber =  $('#mobilenumber').val();
    if(checkEntry() == 0){
      validateMobileNumber(mobilenumber);
    }
  });


  /**
 * Function to validate a mobile number by sending an OTP and handling the response using SweetAlert2.
 * 
 * @param {string} mobilenumber - The mobile number to validate
 * @returns {void}
 */
  function validateMobileNumber (mobilenumber){
      Swal.fire(
      {
        title: 'Validating mobile number...',
       
        allowEscapeKey: false,
        allowOutsideClick: false,
        timer: 1500,
        timerProgressBar: true,
        didOpen: () => {
          Swal.showLoading();
        },
        willClose: () => {
          $.ajax(
          {
            url: `/api/validate/patients-is-active?mobilenumber=${encodeURIComponent(mobilenumber)}`,
            method: 'GET',
            success: function(data) {
              if(data.status == 1){
                      var testOTP ='';                           
                  // AJAX POST request
                  $.ajax({
                      url: '/api/generate/otp',
                      method: 'POST',
                      contentType: 'application/json',
                      data: JSON.stringify({ mobilenumber: mobilenumber }),
                      success: function(response) {
                          console.log('Response:', response);
                          testOTP=response.otp;
                          // Handle success response here
                      },
                      error: function(xhr, status, error) {
                          console.error('Error:', error);
                          // Handle error here
                      }
                  });



                Swal.fire({
                    icon: 'success',
                    title: 'Validation Successful',
                    html: 'Sending <b> 6 digit OTP </b> to your mobile number.',
                    timerProgressBar: true,
                    timer: 5000,
                    showConfirmButton: false
                }).then(() => {
   
                  // Mask the number
                  const maskedNumber = "*******" + mobilenumber.slice(-4)+"<br> Your Test OTP is: <b>"+testOTP+'</b>'; // Append "*******" to the masked part
                  
                  $('#maskedNumber').html(maskedNumber).show();
                  // This will be called after the timer ends
                  showStep(2);
              });

              }else{
                Swal.fire({
                    icon: 'error',
                    title: 'Mobile number not found',
                    text: 'This portal is only for Currently Admitted Patients. Please ensure the record you are accessing is currently admitted in CSMC.',
                    showConfirmButton: true
                });

              }
              
            },  
            error: function() {
              console.error('Failed to validate mobilenumber');
            }
          });
        }
      });
    
  }

  /* Verifies the OTP entered by the user

  This function constructs the OTP from individual input fields, checks if the OTP is exactly 6 digits long, and then verifies the OTP by making an AJAX call to the server. If the OTP is valid, it proceeds to the next step; otherwise, it displays an error message to the user.

  Returns:
  None */
  function verifyOTP(){
    // Construct the OTP from individual input fields
    let otp = '';
    $('.otp-input').each(function() {
        otp += $(this).val();
    });

    // Check if OTP is exactly 6 digits long
    if (otp.length === 6) {
      Swal.fire(
      {
        title: 'Verifying OTP...',
       
        allowEscapeKey: false,
        allowOutsideClick: false,
        timer: 1500,
        timerProgressBar: true,
        didOpen: () => {
          Swal.showLoading();
        },
        willClose: () => {
          const mobilenumber = $('#mobilenumber').val();
          $.ajax({
              url: '/api/generate/validate-otp-by-mobilenumber',
              method: 'POST',
              contentType: 'application/json',
              data: JSON.stringify({ mobilenumber: mobilenumber,otp: otp }),
              success: function(response) {
                  console.log('Response:', response);
                  if(response.status == 1){
                    showStep(3);

                    setTimeout(function() {
                      
                        // Call showBillingTable()
                        showBillingTable();
                    }, 2000); // 2000 milliseconds = 2 seconds
                  }else{
                    Swal.fire({
                    icon: 'error',
                    title: 'Invalid OTP',
                    text: 'Your OTP will expire in '+response.expires_at+'. Please complete the verification process promptly',
                    showConfirmButton: true
                });
                  }
                 
              },
              error: function(xhr, status, error) {
                  console.error('Error:', error);
                  // Handle error here
              }
          });

        }
      });
    }else {
        // Example: Disable submit button if OTP is not complete
        $('#submitBtn').prop('disabled', true);

    }
  }
  $('#verifyOTP').click(function(){
    verifyOTP();
  });

  function showBillingTable(){
    //hide login inpatient portal
    $('#runningbillLogin').css('display', 'none');

    //show billing table after validation
    $('#runningBillTable').css({
                    display: 'block',
                    opacity: 0
                }).animate({ opacity: 1 }, 300); // 300ms animation duration
  }


  function runninBillLogout(){
    
    $('#runningBillTable').css('display', 'none');
    showStep(1);
    $('#runningbillLogin').css({
                    display: 'block',
                    opacity: 0
                }).animate({ opacity: 1 }, 300); // 300ms animation duration
  }



</script>

<script>
    // ON EVENT JQUERY




    $('#searchDoctor').keyup(function(){
      const query = $('#searchDoctor').val();
  
      search(query);
    });

    $('#subForm').on('change', 'input[type="radio"][name="sub-radioSpecialty"]', function() {
      const specialtyValue = $('input[name="radioSpecialty"]:checked').val();
      const selectedValue = $('input[name="sub-radioSpecialty"]:checked').val();
      if (selectedValue) {
          
          getDoctorsBySpecializationAndSubspecialization(specialtyValue, selectedValue);
      } else {
         
          $('#selectedValue').text('None');
      }
    });



    $('#myForm').on('click', 'input[type="radio"][name="radioSpecialty"]',function(event){
    // Handle specific behavior for radio buttons if needed
    event.stopPropagation(); // Prevent bubbling to document level
    selectedSpecialty();
    });
    
    $('#runnginBill-link').click(function() {    
        // event.preventDefault();
        goTo('#runningBill');
    });
    $('#sidebar-home').click(function() {
        // event.preventDefault();
        goTo('#landingPage');
    });
    $('#sidebar-runningbill').click(function() {
        // event.preventDefault();
        goTo('#runningBill');
    });
    
    $('#doctorDir-link').click(function() {
        // event.preventDefault();
        goTo('#portfolio');
    });
    
    $('#sidebar-doctorsDir').click(function() {
        // event.preventDefault();
        goTo('#portfolio');
    });
    
    

    document.addEventListener("DOMContentLoaded", function(event) {
      function OTPInput() {
          const inputs = document.querySelectorAll('#otp > *[id]');
          for (let i = 0; i < inputs.length; i++) {
              inputs[i].addEventListener('keydown', function(event) {
                  if (event.key === "Backspace") {
                      inputs[i].value = '';
                      if (i !== 0) inputs[i - 1].focus();
                  } else {
                      if (i === inputs.length - 1 && inputs[i].value !== '') {
                          return true;
                      } else if (event.keyCode > 47 && event.keyCode < 58) {
                          inputs[i].value = event.key;
                          if (i !== inputs.length - 1) inputs[i + 1].focus();
                          event.preventDefault();
                      } else if (event.keyCode > 64 && event.keyCode < 91) {
                          inputs[i].value = String.fromCharCode(event.keyCode);
                          if (i !== inputs.length - 1) inputs[i + 1].focus();
                          event.preventDefault();
                      }
                  }
              });
          }
      }
      
      OTPInput();
    });
  </script>
<script>    

  $(document).ready(function () {

     // Click event on the document to close all displays
     $(document).on('click', function(event) {
        // Check if the click was not on the radio buttons or their descendants,
        // and not on the button or its descendants
        if (
            (!$(event.target).closest('input[type="radio"][name="radioSpecialty"]').length &&
                    !$(event.target).closest('#myForm').length 
                    &&   !$(event.target).closest('#sidebarDiv').length 
            ) || ( !$(event.target).closest('#searchDoctorDiv') && !$(event.target).closest('#searchDoctor') )

          ) 
          {
              
            if($(event.target).closest('#searchDoctorDiv').length){

               close_sidebar();
               
             }
             if( (!$(event.target).closest('input[type="radio"][name="radioSpecialty"]').length &&
                    !$(event.target).closest('#myForm').length 
                    &&   !$(event.target).closest('#sidebarDiv').length 
            ) ){
             
              close_sidebar(); 
             }

             if(!$(event.target).closest('#searchDoctorDiv').length && !$(event.target).closest('.keyboard').length){
              closeKeyboard();   
              //toggleSearch();
             }
             
         }
         

      });

    // hide billing table
    $('#runningBillTable').css('display', 'none');
  
     $(".sidebar-wrapper").hide();
    
      getInitialLoading();
    
      goTo('#landingPage');
      $('.resume-item .container-header .trigCol').click(function() {
        $(this).parent().siblings('.resume-item-content').toggle();
      });

     
      $('#multiSelectDropdown').on('click', function (event) {
          event.stopPropagation();
      });
      $('#SpmultiSelectDropdown').on('click', function (event) {
          event.stopPropagation();
      });
      $('#multiSelectDropdown').on('change', function () {
          var selectedValues = [];
          $('input[type="checkbox"]:checked').each(function () {
              selectedValues.push($(this).next('label').text());
          });
         
      });

      $('#SpmultiSelectDropdown').on('change', function () {
          var selectedValues = [];
          $('input[type="checkbox"]:checked').each(function () {
              selectedValues.push($(this).next('label').text());
          });
          
      });

  });

  

  
</script>
</body>

</html>